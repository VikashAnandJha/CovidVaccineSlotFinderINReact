(this.webpackJsonpcovidslotsindia=this.webpackJsonpcovidslotsindia||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var c=a(0),i=a.n(c),n=a(32),s=a.n(n),d=(a(103),a(104),a(24)),l=a(50),o=a.n(l),r=a(150),j=a(21),b=a.n(j),O=a(147),h=a(148),x=a(149),u=a(48),f=a(62),g=a(2),p=(b()().endOf("day").add(0,"days").format("YYYY-MM-DD"),b()().endOf("day").add(0,"days").format("DD-MM-YYYY")),v=b()().endOf("day").add(1,"days").format("DD-MM-YYYY"),m=b()().endOf("day").add(2,"days").format("DD-MM-YYYY");var y=function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),i=a[0],n=a[1],s=e.data;Object(c.useEffect)((function(){console.log("dist slot :"+s.distName),s.distId>0&&j()}),[s]);var l,r,j=function(){o.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(s.distId,"&date=").concat(p)).then((function(e){console.log(e.data.centers),n(e.data.centers)})).catch((function(e){console.log(e)}))};return console.log(i),l=i?i.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(O.a,{children:Object(g.jsxs)(O.a.Content,{children:[Object(g.jsx)(O.a.Header,{children:e.name}),Object(g.jsx)(O.a.Meta,{children:e.address}),Object(g.jsx)(O.a.Description,{children:Object(g.jsxs)(h.a,{celled:!0,children:[Object(g.jsx)(h.a.Header,{children:Object(g.jsxs)(h.a.Row,{children:[Object(g.jsx)(h.a.HeaderCell,{children:"Today"}),Object(g.jsxs)(h.a.HeaderCell,{children:["Tomorrow(",v,")"]}),Object(g.jsxs)(h.a.HeaderCell,{children:["DayAfterTomorrow(",m,")"]})]})}),Object(g.jsx)(h.a.Body,{children:Object(g.jsxs)(h.a.Row,{children:[Object(g.jsx)(h.a.Cell,{children:e.sessions.map((function(e){var t;if(t=e.available_capacity>0?"green":"red",e.date==p)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(x.a,{as:"div",labelPosition:"right",children:[Object(g.jsxs)(x.a,{basic:!0,color:t,children:[Object(g.jsx)(u.a,{name:"Available"}),e.vaccine," ",e.min_age_limit,"+"]}),Object(g.jsx)(f.a,{as:"a",basic:!0,color:t,pointing:"left",children:e.available_capacity})]}),Object(g.jsx)("br",{})]})}))}),Object(g.jsx)(h.a.Cell,{children:e.sessions.map((function(e){var t;if(t=e.available_capacity>0?"green":"red",e.date==v)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(x.a,{as:"div",labelPosition:"right",children:[Object(g.jsxs)(x.a,{basic:!0,color:t,children:[Object(g.jsx)(u.a,{name:"Available"}),e.vaccine," ",e.min_age_limit,"+"]}),Object(g.jsx)(f.a,{as:"a",basic:!0,color:t,pointing:"left",children:e.available_capacity})]}),Object(g.jsx)("br",{})]})}))}),"   ",Object(g.jsx)(h.a.Cell,{children:e.sessions.map((function(e){var t;if(t=e.available_capacity>0?"green":"red",e.date==m)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(x.a,{as:"div",labelPosition:"right",children:[Object(g.jsxs)(x.a,{basic:!0,color:t,children:[Object(g.jsx)(u.a,{name:"Available"}),e.vaccine," ",e.min_age_limit,"+"]}),Object(g.jsx)(f.a,{as:"a",basic:!0,color:t,pointing:"left",children:e.available_capacity})]}),Object(g.jsx)("br",{})]})}))})]})})]})})]})})})})):"N/A",e.data.distId>0?r=Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("h1",{children:["Covid Vaccine Centers ",e.data.distName," "]})}):(l="",r=""),Object(g.jsxs)("div",{className:"ui left",children:[Object(g.jsx)("hr",{}),r,Object(g.jsx)("div",{align:"left",children:Object(g.jsx)(O.a.Group,{children:l})})]})};a(131);var Y=function(){var e,t,a=Object(c.useState)([]),i=Object(d.a)(a,2),n=i[0],s=i[1],l=Object(c.useState)({stateId:"",stateName:"All India"}),j=Object(d.a)(l,2),O=j[0],h=j[1],x=Object(c.useState)({distId:"",distName:""}),u=Object(d.a)(x,2),f=u[0],p=u[1],v=Object(c.useState)([]),m=Object(d.a)(v,2),Y=m[0],D=m[1],I=Object(c.useState)([]),S=Object(d.a)(I,2),_=S[0],C=S[1],M=Object(c.useState)([]),N=Object(d.a)(M,2),B=(N[0],N[1],b()().endOf("day").add(0,"days").format("YYYY-MM-DD"));b()().endOf("day").add(1,"days").format("YYYY-MM-DD"),b()().endOf("day").add(2,"days").format("YYYY-MM-DD"),console.log("today"+B),Object(c.useEffect)((function(){o.a.get("https://api.cowin.gov.in/api/v1/reports/v2/getPublicReports?state_id=&district_id=&date=".concat(B)).then((function(e){console.log(e.data.getBeneficiariesGroupBy),s(e.data.getBeneficiariesGroupBy)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){o.a.get("https://api.cowin.gov.in/api/v1/reports/v2/getPublicReports?state_id=".concat(O.stateId,"&district_id=").concat(f.distId,"&date=").concat(B)).then((function(e){console.log(e.data),D(e.data.topBlock.vaccination),f.distId>0||C(e.data.getBeneficiariesGroupBy)})).catch((function(e){console.log(e)})),console.log("calling")}),[O,f]),n&&(e=n.map((function(e){return Object(g.jsxs)("option",{value:e.id,children:[e.title," "]})}))),_&&(t=_.map((function(e){return Object(g.jsxs)("option",{value:e.id,children:[e.title," "]})})));var F,w=function(){return Object(g.jsxs)("div",{children:[Object(g.jsxs)(r.a,{children:[Object(g.jsx)(r.a.Value,{children:Y.today}),Object(g.jsx)(r.a.Label,{children:"Today Vaccinated"})]}),Object(g.jsxs)(r.a,{children:[Object(g.jsx)(r.a.Value,{children:Y.total}),Object(g.jsx)(r.a.Label,{children:"Total Vaccinated"})]})]})};return Y.total?(console.log("state"+Y),F=Object(g.jsxs)(g.Fragment,{children:["Showing Resuts for ",O.stateName," ",f.distName,Object(g.jsx)("br",{}),Object(g.jsx)(w,{})]})):F="Select the state to show its data",Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{children:["Select Your State",Object(g.jsxs)("select",{onChange:function(e){h({stateName:e.target.options[e.target.selectedIndex].text,stateId:e.target.value}),console.log("state Specefic data set"),p({distName:"",distId:""})},children:[Object(g.jsx)("option",{value:"",children:"All India"}),e]}),"Select Your City",Object(g.jsxs)("select",{onChange:function(e){p({distName:e.target.options[e.target.selectedIndex].text,distId:e.target.value}),console.log("dist Specefic data set")},children:[Object(g.jsx)("option",{value:"",children:"All District"}),t]}),Object(g.jsx)("br",{}),F,Object(g.jsx)("br",{}),Object(g.jsx)(y,{data:f})]})})};a(132);var D=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("main",{role:"main",className:"container",children:[Object(g.jsx)("h2",{children:"Covid19Vaccine Slots Tracker"}),Object(g.jsx)(Y,{})]})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,152)).then((function(t){var a=t.getCLS,c=t.getFID,i=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),c(e),i(e),n(e),s(e)}))};s.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(D,{})}),document.getElementById("root")),I()}},[[133,1,2]]]);
//# sourceMappingURL=main.3695a306.chunk.js.map